# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

**–î–∞—Ç–∞:** 2026-02-11

## –ü—Ä–æ–±–ª–µ–º–∞

–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (ForexFactory –∏ Myfxbook) –¥–µ–¥—É–ø–ª–∏—Ü–∏—Ä–æ–≤–∞–ª–∏—Å—å –º–µ–∂–¥—É —Å–æ–±–æ–π. –ï—Å–ª–∏ –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –Ω–æ–≤–æ—Å—Ç—å –±—ã–ª–∞ –≤ –æ–±–æ–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö, –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∏–∑ –Ω–∏—Ö.

### –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç "Both" (–æ–±–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞):**
   - –ù–æ–≤–æ—Å—Ç—å "Non-Farm Payrolls" –µ—Å—Ç—å –∏ –≤ ForexFactory, –∏ –≤ Myfxbook
   - –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –Ω–æ–≤–æ—Å—Ç—å (–≤—ã–±–∏—Ä–∞—è "–ª—É—á—à—É—é" –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É)
   - **–û–∂–∏–¥–∞–ª–æ—Å—å:** –ø–æ–∫–∞–∑–∞—Ç—å –æ–±–µ –Ω–æ–≤–æ—Å—Ç–∏, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

2. **–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä ForexFactory):**
   - –•–æ—Ç—è –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ ForexFactory —Å–æ–±—ã—Ç–∏—è, –ª–æ–≥–∏–∫–∞ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –º–æ–≥–ª–∞ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ
   - –ï—Å–ª–∏ –±—ã –≤ —Å–∏—Å—Ç–µ–º–µ –±—ã–ª–∏ —Å–æ–±—ã—Ç–∏—è –∏–∑ –æ–±–æ–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –º–æ–≥–ª–æ –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —Å–æ–±—ã—Ç–∏–µ –∏–∑ Myfxbook

## –†–µ—à–µ–Ω–∏–µ

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `src/utils/eventAggregation.ts`:

1. **–§—É–Ω–∫—Ü–∏—è `deduplicationKey`** (—Å—Ç—Ä–æ–∫–∏ 23-46):
   - **–ë—ã–ª–æ:** –∫–ª—é—á —Å–æ–∑–¥–∞–≤–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ `–≤—Ä–µ–º–µ–Ω–∏ + –≤–∞–ª—é—Ç—ã`
   - **–°—Ç–∞–ª–æ:** –∫–ª—é—á —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏–∑ `–∏—Å—Ç–æ—á–Ω–∏–∫–∞ + –≤—Ä–µ–º–µ–Ω–∏ + –≤–∞–ª—é—Ç—ã`
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: —Å–æ–±—ã—Ç–∏—è –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ **–Ω–∏–∫–æ–≥–¥–∞** –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏

```typescript
// –ë–´–õ–û:
return md5(`${timeKey}_${event.currency}`);

// –°–¢–ê–õ–û:
return md5(`${event.source}_${timeKey}_${event.currency}`);
```

2. **–õ–æ–≥–∏–∫–∞ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏** (—Å—Ç—Ä–æ–∫–∏ 109-146):
   - –£–±—Ä–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ "–ª—É—á—à–µ–≥–æ" —Å–æ–±—ã—Ç–∏—è –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
   - –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **—Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞**
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —É–ø—Ä–æ—â–µ–Ω—ã (—É–±—Ä–∞–Ω –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ForexFactory –Ω–∞–¥ Myfxbook, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ —Ç–µ–ø–µ—Ä—å –Ω–µ –∫–æ–Ω–∫—É—Ä–∏—Ä—É—é—Ç)

3. **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** (JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏):
   - –ß–µ—Ç–∫–æ —É–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ—è—Å–Ω–µ–Ω–∏–µ, —á—Ç–æ —Å–æ–±—ã—Ç–∏—è –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

## –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç "Both"
- –ù–æ–≤–æ—Å—Ç—å "NFP" –≤ ForexFactory –≤ 14:00 ‚Üí **–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è**
- –ù–æ–≤–æ—Å—Ç—å "NFP" –≤ Myfxbook –≤ 14:00 ‚Üí **–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è**
- –û–±–µ –Ω–æ–≤–æ—Å—Ç–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ, –∫–∞–∂–¥–∞—è —Å–æ —Å–≤–æ–∏–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç "ForexFactory"
- –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏—è ForexFactory
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ —Å–æ–±—ã—Ç–∏—è ForexFactory (–¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ FF)
- –°–æ–±—ã—Ç–∏—è Myfxbook –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤–æ–æ–±—â–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç "Myfxbook"
- –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏—è Myfxbook
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ —Å–æ–±—ã—Ç–∏—è Myfxbook (–¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ Myfxbook)
- –°–æ–±—ã—Ç–∏—è ForexFactory –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤–æ–æ–±—â–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –î—É–±–ª–∏–∫–∞—Ç –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- –í ForexFactory –¥–≤–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ (–≤—Ä–µ–º—è + –≤–∞–ª—é—Ç–∞)
- –°–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É (–≤—ã–±–∏—Ä–∞—è —Å –ª—É—á—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏)
- **–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:** –¥—É–±–ª–∏–∫–∞—Ç—ã –≤–Ω—É—Ç—Ä–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–æ–ª–∂–Ω—ã —É–¥–∞–ª—è—Ç—å—Å—è

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `scripts/test-no-cross-source-dedup.ts` –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ –°–æ–±—ã—Ç–∏—è –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ù–ï –¥–µ–¥—É–ø–ª–∏—Ü–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –°–æ–±—ã—Ç–∏—è –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–µ–¥—É–ø–ª–∏—Ü–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–º–µ—à–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–æ–≤:** –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ ‚úÖ

## –í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã:
- üìà –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –≤—ã–±—Ä–∞–≤—à–∏–µ "Both", —Ç–µ–ø–µ—Ä—å –≤–∏–¥—è—Ç –í–°–ï —Å–æ–±—ã—Ç–∏—è –∏–∑ –æ–±–æ–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- üéØ –ö–∞–∂–¥—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–æ —Å–≤–æ–∏–º —Ç–µ–≥–æ–º, —á—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
- üîç –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º: –¥–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞ = –¥–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ß—Ç–æ –ù–ï –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:
- –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ (—É–¥–∞–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥—É–±–ª–∏–∫–∞—Ç—ã)
- –í—ã–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ
- –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
- Cross-source conflict detection —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ (–¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∞—á–µ—Å—Ç–≤–∞)

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –û–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö
- ‚úÖ –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

1. `src/utils/eventAggregation.ts` - –æ—Å–Ω–æ–≤–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
2. `scripts/test-no-cross-source-dedup.ts` - —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
3. `CROSS_SOURCE_FIX_2026-02-11.md` - —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

1. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–Ω–µ—Ç breaking changes)
2. ‚ÑπÔ∏è –ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π "Both" —É–≤–∏–¥—è—Ç –±–æ–ª—å—à–µ —Å–æ–±—ã—Ç–∏–π (—ç—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ)
3. ‚ÑπÔ∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —á—Ç–æ —Ç–µ–ø–µ—Ä—å —Å–æ–±—ã—Ç–∏—è –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
4. ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã, –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞ –Ω–µ—Ç

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

–°–∏—Å—Ç–µ–º–∞ cross-source conflict detection (–≤ `DataQualityService.ts`) –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π, –Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏.
