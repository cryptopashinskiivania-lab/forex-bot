# ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

**–ü–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞:** 28 —è–Ω–≤–∞—Ä—è 2026

## üîí –°—Ç–∞—Ç—É—Å –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ –ó–∞—â–∏—â–µ–Ω–æ

- [x] `.env` —Ñ–∞–π–ª –∏—Å–∫–ª—é—á–µ–Ω –∏–∑ git
- [x] –í—Å–µ `.env.*` —Ñ–∞–π–ª—ã (–∫—Ä–æ–º–µ `.env.example`) –∏—Å–∫–ª—é—á–µ–Ω—ã
- [x] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `bot.db` –∏—Å–∫–ª—é—á–µ–Ω–∞ –∏–∑ git
- [x] –í—Å–µ `.db*` —Ñ–∞–π–ª—ã –∏—Å–∫–ª—é—á–µ–Ω—ã (–≤–∫–ª—é—á–∞—è –∂—É—Ä–Ω–∞–ª—ã WAL)
- [x] –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ `.backup` –∏ `.bak` –∏—Å–∫–ª—é—á–µ–Ω—ã
- [x] IP-–∞–¥—Ä–µ—Å–∞ —É–¥–∞–ª–µ–Ω—ã –∏–∑ –∫–æ–¥–∞
- [x] SSH –∫–æ–º–∞–Ω–¥—ã –æ–±–µ–∑–ª–∏—á–µ–Ω—ã
- [x] URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä
- [x] –°–æ–∑–¥–∞–Ω `.env.example` —Å —à–∞–±–ª–æ–Ω–æ–º
- [x] –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `SECURITY.md`

## üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: .env –≤ git
```bash
git ls-files | grep "\.env$"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ü—É—Å—Ç–æ (—Ñ–∞–π–ª –Ω–µ –≤ git)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ó–∞—â–∏—Ç–∞ —Ñ–∞–π–ª–æ–≤ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
git check-ignore .env .env.local .env.production
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í—Å–µ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ó–∞—â–∏—Ç–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
git check-ignore bot.db bot.db-journal bot.db-wal
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í—Å–µ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: –ü–æ–∏—Å–∫ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ –≤ –∫–æ–¥–µ
```bash
rg "(token|password|secret|key).*=.*[a-zA-Z0-9]{20,}" \
   --glob "*.{ts,js,sh}" -i
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ù–µ –Ω–∞–π–¥–µ–Ω–æ (—Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∏–ø–∞ `keyboard`, `cacheKey`)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 5: IP-–∞–¥—Ä–µ—Å–∞ –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
```bash
rg "\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}" \
   --glob "*.{md,sh}"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ù–µ –Ω–∞–π–¥–µ–Ω–æ (–∫—Ä–æ–º–µ User-Agent, —á—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ)

## üì¶ –§–∞–π–ª—ã –¥–ª—è –∫–æ–º–º–∏—Ç–∞

–°–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:

1. ‚úÖ `.env.example` - —Ç–æ–ª—å–∫–æ —à–∞–±–ª–æ–Ω –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
2. ‚úÖ `.gitignore` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∑–∞—â–∏—Ç—ã
3. ‚úÖ `SECURITY.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
4. ‚úÖ `SECURITY_CLEANUP_REPORT.md` - –æ—Ç—á–µ—Ç –æ–± –æ—á–∏—Å—Ç–∫–µ
5. ‚úÖ `SECURITY_CHECKLIST.md` - —ç—Ç–æ—Ç —á–µ–∫–ª–∏—Å—Ç
6. ‚úÖ `deploy-server.sh` - –æ–±–µ–∑–ª–∏—á–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è

## üéØ –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤ –∫–æ–¥–µ

### –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (src/)
- ‚úÖ –¢–æ–ª—å–∫–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `env.BOT_TOKEN` –∏ `env.GROQ_API_KEY`
- ‚úÖ –ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –í—Å–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ process.env

### –°–∫—Ä–∏–ø—Ç—ã (scripts/)
- ‚úÖ –ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –±–µ–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (*.md)
- ‚úÖ –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö IP-–∞–¥—Ä–µ—Å–æ–≤
- ‚úÖ –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –¢–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä—ã —Å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞–º–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ `package.json` - —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ `tsconfig.json` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ `.gitignore` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

### –ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ:
- ‚úÖ –ö–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ –ü—É—à–∏—Ç—å –≤ –ø—É–±–ª–∏—á–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- ‚úÖ –î–µ–ª–∏—Ç—å—Å—è –∫–æ–¥–æ–º —Å –¥—Ä—É–≥–∏–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
- ‚úÖ –ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å –Ω–∞ GitHub/GitLab

### –ù–µ–ª—å–∑—è (–∏ –∑–∞—â–∏—â–µ–Ω–æ):
- ‚ùå –ö–æ–º–º–∏—Ç–∏—Ç—å `.env` - –∑–∞—â–∏—â–µ–Ω–æ .gitignore
- ‚ùå –ö–æ–º–º–∏—Ç–∏—Ç—å `bot.db` - –∑–∞—â–∏—â–µ–Ω–æ .gitignore
- ‚ùå –î–µ–ª–∏—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ - –≤—Å–µ –≤ .env

## üìã –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º

–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ):

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å staged —Ñ–∞–π–ª—ã
git diff --staged --name-only

# 2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ .env –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
git diff --staged --name-only | grep "\.env$" && echo "‚ö†Ô∏è  .env found!" || echo "‚úÖ OK"

# 3. –ü–æ–∏—Å–∫ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–æ–∫
git diff --staged | grep -i "token\|password\|secret" | grep -v "\.env\|BOT_TOKEN\|GROQ_API_KEY"

# 4. –ï—Å–ª–∏ –≤—Å–µ —á–∏—Å—Ç–æ, –∫–æ–º–º–∏—Ç–∏–º
git commit -m "Your message"
```

## üîê –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

```
LOCAL MACHINE ONLY:
‚îú‚îÄ‚îÄ .env                    ‚Üê –í–∞—à–∏ —Ç–æ–∫–µ–Ω—ã (–ù–ï –≤ git) ‚úÖ
‚îî‚îÄ‚îÄ bot.db                  ‚Üê –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ù–ï –≤ git) ‚úÖ

SERVER ONLY:
‚îú‚îÄ‚îÄ .env                    ‚Üê –¢–æ–∫–µ–Ω—ã —Å–µ—Ä–≤–µ—Ä–∞ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é)
‚îî‚îÄ‚îÄ bot.db                  ‚Üê –ë–î —Å–µ—Ä–≤–µ—Ä–∞ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

PUBLIC GIT:
‚îú‚îÄ‚îÄ .env.example            ‚Üê –¢–æ–ª—å–∫–æ —à–∞–±–ª–æ–Ω ‚úÖ
‚îú‚îÄ‚îÄ SECURITY.md             ‚Üê –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ
‚îî‚îÄ‚îÄ src/                    ‚Üê –ö–æ–¥ –±–µ–∑ —Ç–æ–∫–µ–Ω–æ–≤ ‚úÖ
```

## üõ°Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. **Git Hooks** - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pre-commit —Ö—É–∫:
```bash
# .git/hooks/pre-commit
#!/bin/bash
if git diff --cached --name-only | grep -q "^\.env$"; then
    echo "‚ùå Error: Attempting to commit .env file!"
    exit 1
fi
```

2. **Gitleaks** - —Å–∫–∞–Ω–µ—Ä —Å–µ–∫—Ä–µ—Ç–æ–≤:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
brew install gitleaks  # Mac
# –∏–ª–∏ —Å–∫–∞—á–∞—Ç—å —Å https://github.com/zricethezav/gitleaks

# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
gitleaks detect --source . --verbose
```

3. **GitHub Secret Scanning** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ GitHub)
   - –í–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
   - –£–≤–µ–¥–æ–º–∏—Ç –æ —Å–ª—É—á–∞–π–Ω–æ –∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–∞—Ö

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

**–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏!**

- ‚úÖ –í—Å–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
- ‚úÖ –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

---

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ `SECURITY.md` –¥–ª—è –¥–µ—Ç–∞–ª–µ–π
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –ª–æ–∫–∞–ª—å–Ω–æ
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env` —Å–≤–æ–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
4. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
5. –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π! üéâ
